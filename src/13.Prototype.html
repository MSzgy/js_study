<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>13.Prototype</title>
    <script>
        /**
         * Prototype
         * 
         * when create a function object, also create a prototype object (protoObj).
         * 
         * when obj = new Class(), the obj can also have a property pointing to the protoObj.
         */
        function Person() {
            this.name = "zgy";
            this.age = 26;
        }

        Person.prototype.age = 26;
        console.log(Person.prototype);
          var per = new Person();
        // when we access a variable, first find in object, if not, then find in the
        // protoObj
        console.log(per.age);
        console.log(per.hasOwnProperty("name")); // return true

        /**
         * override toString() method
         */
        Person.prototype.toString = function () {
            return this.name + " " + this.age;
        }
        var per1 = new Person();
        console.log(per1.toString());
        console.log(Date instanceof Object)
        /**
         *
         */
        function Fn() {
        }
        console.log(Fn.prototype);
        var fn = new Fn();
        console.log(fn.__proto__);
        console.log(Fn.prototype === fn.__proto__);

        Object.prototype.constructor = function () {
            console.log('aaaaaaa');
        }
        var obj = new Object();
        obj.constructor();

        var date = new Date();

        /**
         * Date、Function、Object原型关系
         */
        console.log(date.__proto__ === Date.prototype)  // true
        console.log(Date.__proto__ === Function.prototype);
        console.log(Date.prototype.__proto__ === Object.prototype);
        console.log(Object.prototype.__proto__);
        console.log(Object.__proto__ === Function.prototype);
        console.log(Function.prototype.__proto__ === Object.prototype);
        console.log(Function.__proto__ === Function.prototype);
        console.log(typeof Object);

        /**
         * 函数的显示原型指向的对象：默认是空 Object 对象（但Object不满足）
         */
        console.log(Object.prototype);
        console.log(Object.prototype instanceof Object);  // false
        console.log(Function.prototype instanceof Object) // true

        /**
         * 所有函数都是Function的实例（包含Function）
         */
        console.log(Function.__proto__ === Function.prototype); // true

        /**
         * Object的原型对象是原型链尽头
         */
        console.log(Object.prototype.__proto__);  // null
    </script>
</head>
<body>
    
</body>
</html>